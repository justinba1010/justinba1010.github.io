(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(39)},31:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(14),c=n.n(i),l=(n(31),n(33),n(15)),s=n(4),u=n(1),m=n(7),p=n(48);!function(e){e[e.OpenBox=0]="OpenBox",e[e.SetUp=1]="SetUp"}(a||(a={}));var f=100;function b(e,t){switch(t.type){case a.OpenBox:if(e.isOver)return e;if(-1===e.openBoxes.indexOf(t.box)){if(e.number==e.permutation[t.box-1])return Object(m.a)({},e,{openBoxes:[].concat(Object(u.a)(e.openBoxes),[t.box]),isOver:!0,isWin:!0,trials:[].concat(Object(u.a)(e.trials),[!0])});var n=e.openBoxes.length>=Math.floor(f/2)-1,r=e.trials;return n&&(r=[].concat(Object(u.a)(r),[!1])),Object(m.a)({},e,{openBoxes:[].concat(Object(u.a)(e.openBoxes),[t.box]),isOver:n,trials:r})}break;case a.SetUp:return Object(m.a)({},e,{openBoxes:[],permutation:t.permutation,name:t.name,number:t.number,isOver:!1,isWin:!1,trials:t.trials})}return e}var O=function(e){var t=o.a.useReducer(b,{openBoxes:[],permutation:[],uuid:"",name:"",number:0,isOver:!1,isWin:!1,trials:[]}),n=Object(s.a)(t,2),r=n[0],i=n[1];o.a.useEffect(function(){var e=localStorage.getItem("uuid"),t=0;e?t=+e:(t=Math.floor(Math.random()*Math.pow(2,31)),localStorage.setItem("uuid",t+""));var n=t%f,r=localStorage.getItem("trials"),o=[];r&&(o=JSON.parse(r).trials),i({type:a.SetUp,number:n,uuid:t,trials:o,permutation:x(f)})},[]),o.a.useEffect(function(){0!=r.trials.length&&localStorage.setItem("trials",JSON.stringify({trials:r.trials}))},[r.trials]);var c=r.isOver?o.a.createElement("button",{onClick:function(){return i(Object(m.a)({},r,{type:a.SetUp,permutation:x(f),openBoxes:[]}))}},"Play Again?"):null,l=r.trials.slice(r.trials.length-10).map(function(e){return e?o.a.createElement("span",{className:"hit"}):o.a.createElement("span",{className:"miss"})}),u=Array.from(Array(f).keys()).map(function(e){return o.a.createElement(v,{isOver:r.isOver,open:r.openBoxes.indexOf(e+1)>-1,dispatch:i,index:e+1,permutation:r.permutation})}),O=r.isOver?o.a.createElement("h2",null,r.isWin?"You won!":"You lost!"):null;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"You're Prisoner #",r.number),c,O,l,o.a.createElement(p.a,{container:!0,spacing:2},u))},v=function(e){var t=e.open?o.a.createElement("span",{className:"clicked"},e.permutation[e.index-1]):e.index;return o.a.createElement(p.a,{item:!0},o.a.createElement("button",{className:e.isOver?"button2":"button1",onClick:function(){return e.dispatch({type:a.OpenBox,box:e.index})}},t))};function x(e){var t=d(Array.from(Array(f).keys()).map(function(e){return f-e})),n=t.slice(0,Math.floor(f/2)),a=t.slice(Math.floor(f/2)),r=d(n),o=d(a);return n.forEach(function(e,n){t[e-1]=r[n]}),a.forEach(function(e,n){t[e-1]=o[n]}),t}var d=function(e){for(var t=Object(l.a)(e).slice(0),n=t.length;n;){var a=Math.floor(Math.random()*n--),r=[t[a],t[n]];t[n]=r[0],t[a]=r[1]}return t};var h=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Prisoner Game"),o.a.createElement(O,null))},E=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,47)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)})};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h,null))),E()}},[[22,3,2]]]);
//# sourceMappingURL=main.2dc52329.chunk.js.map